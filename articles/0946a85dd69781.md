---
title: "localã§ç«‹ã¦ãŸjupyterlabã¨gitlabã®ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã‚’é€£æºã™ã‚‹"
emoji: "ğŸ–¥ï¸"
type: "tech"
topics:
  - "gitlab"
published: true
published_at: "2024-06-27 16:32"
---

# 0. å‰ææ¡ä»¶

- ç’°å¢ƒ
    - docker host: ubuntu 20.04
    - docker image: jupyter/datascience-notebook (latest)
    - docker container: ubuntu 22.04.3 LTS
        - ã™ã§ã« docker container å†…ã® ubuntu ã«ã¯ã€gitã®installãŒæ¸ˆã‚“ã§ã„ã‚‹çŠ¶æ…‹

- ã‚„ã‚ŠãŸã„ã“ã¨
    - ã™ã§ã«ãƒ­ãƒ¼ã‚«ãƒ«ã§ã¯ã‚ã‚‹ç¨‹åº¦ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚‹
    - gitlabä¸Šã«æ–°ã—ããƒªãƒã‚¸ãƒˆãƒªï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã‚’ä½œæˆã—ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ããƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã« add ã—ã€push ã™ã‚‹
    - ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªãŒç©ºãªã®ã§ã€git clone ã«ã‚ˆã‚‹ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ã‚¯ãƒ­ãƒ¼ãƒ³ã¯è¡Œã‚ãªã„ã€‚


# 1. ä½œæ¥­æ‰‹é †

## 1.1. gitlab ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæº–å‚™

**ä½œæ¥­ç’°å¢ƒ:**
- gitlabï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ã‚¢ã‚¯ã‚»ã‚¹ï¼‰

**ä½œæ¥­å†…å®¹:**
- https://gitlab.com/ ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹
    - Your work > Projects > New project
- è¨­å®šè«¸å…ƒã¯ä»¥ä¸‹
    - "create blank project"
    - project name: ä»»æ„
    - group or namespase: ä»»æ„ï¼ˆä»Šå›ã¯æ™‚åˆ†è‡ªèº«ã®namaspaceã‚’ä½¿ç”¨ï¼‰

**ä½œæ¥­å¾Œç¢ºèª:**
- gitlabå†…ã«æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã§ãã¦ã„ã‚‹ã“ã¨
- ã¾ãŸã€ã“ã®ã¨ãã«ã€ä»¥ä¸‹ã®ãƒšãƒ¼ã‚¸ã‹ã‚‰gitlabã®ãƒ¦ãƒ¼ã‚¶åç§°ã¨ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æ§ãˆã¦ãŠã
    - User Settings > Profiles
    - User Settings > Emails

## 1.2. sshæ¥ç¶šæº–å‚™

### 1.2.1. sshkeyä½œæˆ

**ç›®çš„:** 
- gitlab ã¨sshæ¥ç¶šã™ã‚‹éš›ã€sshéµã‚’ä½¿ç”¨ã—ã¦æ¥ç¶šã‚’è¡Œã†å ´åˆã«ç§˜å¯†éµã€å…¬é–‹éµã‚’ä½œæˆã™ã‚‹
- åˆ¥ã«é€šå¸¸ã®ãƒ¦ãƒ¼ã‚¶èªè¨¼ã‚’è¡Œã†å ´åˆã¯ã“ã®è¨­å®šã¯ãªãã¦ã‚‚ã‚ˆã„ãŒã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šsshéµã‚’ä½¿ç”¨ã—ãŸã»ã†ãŒè‰¯ã„

**ä½œæ¥­ç’°å¢ƒ:**
- JupyterLabä¸Šç«¯æœ«ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿

**ä½œæ¥­å†…å®¹:**

- ä½œæ¥­ãƒ¦ãƒ¼ã‚¶ã®ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã€å¿…è¦ã«ã†ã˜ã¦.sshãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ
``` bash
cd ~
mkdir .ssh
cd .ssh/
```

- .sshãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«ä»¥ä¸‹2ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹
    - id_rsa.pub
    - id_rsa
``` bash
ssh-keygen -t rsa -C [gitlab_Email]
ls
```

- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®è¦³ç‚¹ã‹ã‚‰ã€ç§˜å¯†éµã®ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’ã‚ªãƒ¼ãƒŠãƒ¼ã®ã¿èª­è¾¼å°‚ç”¨ã«ã—ã¦ãŠã
``` bash
chmod 600 id_rsa
ls
```

- gitlabä¸Šã®å…¬é–‹éµç™»éŒ²ã®ãŸã‚ã€å…¬é–‹éµã®å†…å®¹ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãŠãã€‚ã“ã®ã¨ãã€æœ«å°¾ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯é™¤å¤–ã—ã¦ã‚³ãƒ”ãƒ¼ã™ã‚‹ã“ã¨
``` bash
cat id_rsa.pub 
```

### 1.2.2. ssh config ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ

**ç›®çš„:** 
- SSHã®æ¥ç¶šæƒ…å ±ã‚’ç®¡ç†ã—ã‚„ã™ãã™ã‚‹ãŸã‚ã€ .ssh/config ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¦ã€å½“è©²ãƒªãƒã‚¸ãƒˆãƒªï¼ˆgitlab ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã«ã¦ä½¿ç”¨ã™ã‚‹æ¥ç¶šæƒ…å ±ã‚’è¨˜è¼‰ã—ã¦ãŠã
- ã“ã‚Œã‚‚ãªãã¦ã‚‚è‰¯ã„ã£ã¡ã‚ƒè‰¯ã„ãŒã€ã‚ã£ãŸã»ã†ãŒæ¥½ãªã®ã§è¨­å®šã—ã¦ãŠãã“ã¨ã‚’æ¨å¥¨

**ä½œæ¥­ç’°å¢ƒ:**
- JupyterLabä¸Šç«¯æœ«ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿

**ä½œæ¥­å†…å®¹:**
- .ssh/config ã®æ–°è¦ä½œæˆ
    - ä»¥ä¸‹ã®å†…å®¹ã‚’è¨˜è¼‰ã—ã¦ãŠã

```bash
vi ~/.ssh/config
```

ä¾‹: 
```text
Host [æ¥ç¶šåç§°ï¼ˆä»»æ„ã®æ–‡å­—åˆ—ï¼‰]
  User git
  Port 22
  HostName gitlab.com:[gitlab_user]
  TCPKeepAlive yes
  identitiesonly yes
  identityFile ~/.ssh/id_rsa
```

## 1.3. SSHå…¬é–‹éµç™»éŒ²

**ä½œæ¥­ç’°å¢ƒ:**
- gitlabï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ã‚¢ã‚¯ã‚»ã‚¹ï¼‰

**ä½œæ¥­å†…å®¹:**
- ä»¥ä¸‹ã®ãƒšãƒ¼ã‚¸ã‹ã‚‰SSHå…¬é–‹éµã‚’ç™»éŒ²ã™ã‚‹
    - https://gitlab.com/-/user_settings/ssh_keys
        - Add new key

## 1.4. gitlab ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®æ¥ç¶šæƒ…å ±ã®ã‚³ãƒ”ãƒ¼

**ä½œæ¥­ç’°å¢ƒ:**
- gitlabï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ã‚¢ã‚¯ã‚»ã‚¹ï¼‰

**ä½œæ¥­å†…å®¹:**
- ä»¥ä¸‹ã®ãƒšãƒ¼ã‚¸ã‹ã‚‰gitlabãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®æ¥ç¶šæƒ…å ±ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãŠã
    - https://gitlab.com/[gitlab_user]/[gitlab_PJ]
        - CODE > Clone with SSH
- ãƒšãƒ¼ã‚¸ã‹ã‚‰gitlabã®ãƒ¦ãƒ¼ã‚¶åç§°ã¨ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãŠã
    - User Settings > Profiles
    - User Settings > Emails

## 1.5. docker å†…ã§ã®ãƒ­ãƒ¼ã‚«ãƒ«ãƒªãƒã‚¸ãƒˆãƒªä½œæˆ

**ä½œæ¥­ç’°å¢ƒ:**
- JupyterLabä¸Šç«¯æœ«ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿

**ä½œæ¥­å†…å®¹:**

- gitlab ãƒ­ãƒ¼ã‚«ãƒ«ãƒªãƒã‚¸ãƒˆãƒªã®åˆæœŸè¨­å®šã‚’è¡Œã†
```bash
git config --global user.name [gitlab_user]
git config --global user.email [gitlab_Email]
git init
```

- çŠ¶æ…‹ã®ç¢ºèªã‚’è¡Œã†
```bash
git status
```

- ãƒ†ã‚¹ãƒˆã‚³ãƒŸãƒƒãƒˆç”¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€gitç®¡ç†å¯¾è±¡ã«è¿½åŠ ã™ã‚‹
```bash
vi test.txt
git add test.txt
git status
```

- ãƒªãƒ¢ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã‚’è¿½åŠ ã™ã‚‹
```bash
git remote add [ãƒªãƒã‚¸ãƒˆãƒªåç§°] ["1.4."ã€€ã§ã‚³ãƒ”ãƒ¼ã—ãŸgitlabãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¥ç¶šæƒ…å ±]
```

- å¤‰æ›´ã®ã‚³ãƒŸãƒƒãƒˆ
```bash
git commit -m "first commit"
```

- å¤‰æ›´ã®push
```bash
git push [ãƒªãƒã‚¸ãƒˆãƒªåç§°]
```

# 2. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

## 2.1. ãƒªãƒã‚¸ãƒˆãƒªã‚ã‚Šã¾ã›ã‚“

ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ããŸå ´åˆã€‚

```bash
fatal: Could not read from remote repository.
Please make sure you have the correct access rights and the repository exists.
```

ä»Šå›ã¯sshkeyã®å…¬é–‹éµç™»éŒ²ã®éƒ¨åˆ†ã§é–“é•ã£ã¦ã„ãŸã€‚
å…¬é–‹éµã®æœ«å°¾ã«ã‚ã‚‹ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¾ã§å…¥åŠ›ã—ã¦ã—ã¾ã†ã¨NGã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å–ã‚Šé™¤ãï¼ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ç›´å‰ã«ã‚ã‚‹ç©ºç™½ã‚‚å–ã‚Šé™¤ãï¼‰ç™»éŒ²ã™ã‚‹ã¨è§£æ±ºã•ã‚ŒãŸ

# X. ref

- https://backlog.com/ja/git-tutorial/intro/07/
- https://qiita.com/GakuNaitou/items/81dbbd3ea6211af71648
- https://qiita.com/YukiYamam/items/efe9bfefeec3f7bb1a5b

